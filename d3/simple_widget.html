<html>

<head>
  <meta charset="utf-8">
  <script src="../js_common/d3.js"></script>
  <title>Simple widget</title>
</head>

<body>


<script>
function SimpleWidget(spec) {
    var instance = {};
    var headline, description;

    instance.render = function() {
        var div = d3.select("body").append("div");
        div.append("h3").text(headline);

        div.attr("class", "box")
           .attr("style", "color:" + spec.color)
           .append("p")
           .text(description)
           .style("font-size", "24pt");

        return instance;
    }

    instance.headline = function(h) {
        if(!arguments.length) h;
            headline = h;
        return instance;
    };

    instance.description = function(d) {
        if(!arguments.length) d;
            description = d;
        return instance;
    };

    return instance;
}

var widget = SimpleWidget({color: "#6495ed"})
             .headline("SimpleWidget")
             .description("This is a simple widget demonstrating functional Javascript.");

widget.render();

</script>

</body>



</html>